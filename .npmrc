# NPM Configuration for Wheels & Wins
# This file ensures consistent dependency installation

# Enforce engine requirements from package.json
engine-strict=true

# Automatically install peer dependencies
# Disabled temporarily due to @netlify/blobs version conflict
auto-install-peers=false

# Don't fail on peer dependency warnings
strict-peer-dependencies=false

# Allow legacy peer dependency resolution for @tensorflow/tfjs-tflite
# The tfjs-tflite package requires tfjs-core@4.9.0 but we use 4.22.0
# This is safe because we use dynamic imports and have Web Speech API fallback
legacy-peer-deps=true

# Use exact versions for better reproducibility
save-exact=false

# Registry configuration
registry=https://registry.npmjs.org/

# Native dependency handling for rollup/esbuild issues
# Force installation of optional dependencies
include=optional
include-optional-deps=true

# Improve installation reliability for native modules
prefer-offline=true
prefer-dedupe=true
build-from-source=false

# Progress and logging
progress=true
loglevel=warn