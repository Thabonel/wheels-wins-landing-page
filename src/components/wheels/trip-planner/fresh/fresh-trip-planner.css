/* Ensure Mapbox map container is visible */
.mapboxgl-map {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
}

/* Ensure map canvas is visible */
.mapboxgl-canvas {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
}

/* Remove any potential white overlays */
.mapboxgl-ctrl-logo,
.mapboxgl-ctrl-attrib {
  z-index: 1;
}

/* Ensure map container has proper dimensions */
.mapboxgl-canvas-container {
  width: 100% !important;
  height: 100% !important;
}

/* Fullscreen control styling */
.mapboxgl-ctrl-icon svg {
  width: 20px;
  height: 20px;
  margin: auto;
}

/* Ensure fullscreen mode works properly */
.mapbox-fullscreen {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 9999 !important;
}

/* Cursor style for adding waypoints */
.mapboxgl-canvas-container.waypoint-cursor {
  cursor: crosshair !important;
}

/* Ensure the crosshair cursor takes priority over default Mapbox cursors */
.mapboxgl-canvas-container.waypoint-cursor .mapboxgl-canvas {
  cursor: crosshair !important;
}

/* Alternative targeting in case the above doesn't work */
.waypoint-cursor {
  cursor: crosshair !important;
}

.waypoint-cursor * {
  cursor: crosshair !important;
}

/* Trip Planner Markers - Ensure maximum visibility */
.trip-planner-marker {
  position: relative !important;
  z-index: 1000 !important;
  transform-origin: center bottom !important;
  pointer-events: auto !important;
}

/* Enhanced Mapbox marker visibility for trip planner */
.mapboxgl-marker.trip-planner-marker {
  z-index: 1000 !important;
  position: absolute !important;
}

.mapboxgl-marker.trip-planner-marker svg {
  display: block !important;
  width: 40px !important;
  height: 40px !important;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4)) !important;
}

/* Ensure Mapbox marker popups are visible */
.mapboxgl-popup {
  z-index: 1001 !important;
}

/* Route layer visibility fixes */
.mapboxgl-canvas {
  outline: none !important;
}

/* Force visibility of all Mapbox markers in trip planner */
.mapbox-map-container .mapboxgl-marker {
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

/* COMMUNITY SOLUTION: Default Mapbox marker styling - fixes invisible marker issue */
.mapboxgl-marker {
  width: 32px !important;
  height: 32px !important;
  border-radius: 50% !important;
  border: 2px solid white !important;
  background-color: #3b82f6 !important;
  cursor: pointer !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-weight: bold !important;
  font-size: 16px !important;
  color: white !important;
}

/* Override for specific trip planner markers with A/B letters */
.mapboxgl-marker.trip-planner-start {
  background-color: #22c55e !important; /* Green for start (A) */
  border-color: #16a34a !important;
}

.mapboxgl-marker.trip-planner-start::after {
  content: 'A' !important;
  color: white !important;
  font-weight: bold !important;
  font-size: 16px !important;
}

.mapboxgl-marker.trip-planner-end {
  background-color: #ef4444 !important; /* Red for end (B) */  
  border-color: #dc2626 !important;
}

.mapboxgl-marker.trip-planner-end::after {
  content: 'B' !important;
  color: white !important;
  font-weight: bold !important;
  font-size: 16px !important;
}

.mapboxgl-marker.trip-planner-waypoint {
  background-color: #3b82f6 !important; /* Blue for waypoints */
  border-color: #2563eb !important;
}